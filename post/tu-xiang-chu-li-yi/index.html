<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>图像处理（一） | 摇摇晃摇</title>
<meta name="description" content="黑夜给了我黑色眼睛，我却用它去寻找光明</br>                                             
" />
<link rel="shortcut icon" href="https://WalkingPineapple.github.io/favicon.ico?v=1581343190481">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://WalkingPineapple.github.io/styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://WalkingPineapple.github.io">
  <img class="avatar" src="https://WalkingPineapple.github.io/images/avatar.png?v=1581343190481" alt="">
  </a>
  <h1 class="site-title">
    摇摇晃摇
  </h1>
  <p class="site-description">
    黑夜给了我黑色眼睛，我却用它去寻找光明</br>                                             

  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              图像处理（一）
            </h2>
            <div class="post-info">
              <span>
                2020-02-07
              </span>
              <span>
                6 min read
              </span>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <h2 id="图像处理">图像处理</h2>
<h3 id="图像阈值">图像阈值</h3>
<pre><code>阈值处理是剔除图像内像素值高于一定之或者低于一定值的像素点，通常阈值由我们自己设定。
</code></pre>
<h4 id="threeshold函数">threeshold函数</h4>
<p>ret, dst = cv2.threshold(src, thresh, maxval, type)</p>
<ul>
<li>src： 输入图，只能输入单通道图像，通常来说为灰度图</li>
<li>dst： 输出图</li>
<li>thresh： 阈值</li>
<li>maxval： 当像素值超过了阈值（或者小于阈值，根据type来决定），所赋予的值</li>
<li>type：二值化操作的类型，包含以下5种类型：</li>
</ul>
<ol>
<li>cv2THRESH_BINARY:大于阈值就取最大值；否则取0</li>
<li>cv2.THRESH_BINARY_INV:大于取0 否则取最大值</li>
<li>cv2.THRESH_TRUNC：大于阈值的部份则取阈值，否则不变</li>
<li>cv2.THRESH_TOZERO：大于阈值不变，否则取0</li>
<li>cv2.THRESH_TOZERO_INV：大于阈值取0，否则不变<br>
<strong>实际代码演示</strong></li>
</ol>
<pre><code class="language-python">
import cv2
import numpy
import matplotlib.pyplot as plt
def img_show(name,img):
cv2.imshow('name',img)
cv2.waitKey(0)
cv2.destroyAllWindows()
img=cv2.imread(&quot;car.jpg&quot;,cv2.IMREAD_GRAYSCALE)
img_show(&quot;car&quot;,img)
#阈值处理
#只能处理灰度图像
ret, thresh1 = cv2.threshold(img, 127, 255, cv2.THRESH_BINARY)
ret, thresh2 = cv2.threshold(img, 127, 255, cv2.THRESH_BINARY_INV)
ret, thresh3 = cv2.threshold(img, 127, 255, cv2.THRESH_TRUNC)
ret, thresh4 = cv2.threshold(img, 127, 255, cv2.THRESH_TOZERO)
ret, thresh5 = cv2.threshold(img, 127, 255, cv2.THRESH_TOZERO_INV)
img_show(&quot;binary&quot;,thresh1)
img_show(&quot;binary_inv&quot;,thresh2)
img_show(&quot;trunc&quot;,thresh3)
img_show(&quot;tozero)&quot;,thresh4)
img_show(&quot;tozero_inv&quot;,thresh5)
</code></pre>
<h3 id="图像平滑">图像平滑</h3>
<pre><code>在保留图像原有信息的条件下，过滤图像内部噪声
</code></pre>
<p><img src="%7B$WP_ASSETS%7D/94e104481b6140d46b6c930535966ede.png" alt="" loading="lazy"><br>
平滑操作就是处理图像中周围像素点差异较大的像素点</p>
<h4 id="均值滤波">均值滤波</h4>
<pre><code>用均值来代替差异像素值
</code></pre>
<p>dst=cv2.blur(src,ksize,anchor,borderType)</p>
<ul>
<li>dst：返回值，均值滤波后图像</li>
<li>src：准备处理的图像</li>
<li>ksize：滤波核大小：均值处理，领域图像的高度和宽度，就是我们要选取的m和n</li>
<li>anchor:锚点，默认值（-1,1），表示当前计算均值的点位于核中的中心点位置，一般默认即可</li>
<li>borderType：边界样式<br>
<strong>实际代码演示</strong></li>
</ul>
<pre><code class="language-python">#均值滤波
blur = cv2.blur(img, (3, 3))
img_show(&quot;blur&quot;,blur)

</code></pre>
<h4 id="方框滤波">方框滤波</h4>
<pre><code>与均值滤波类似，可以自由是对领域像素值求均值，还是领域像素值之和
</code></pre>
<p>dst=cv2.boxFilter(src,ddepth,ksizie,anchor,normalize,borderType)</p>
<ul>
<li>dst：返回值，方框滤波后图像</li>
<li>src：准备处理的图像</li>
<li>ddepth:处理图像深度，一般用-1表示与原始图像使用相同的深度</li>
<li>ksize：滤波核大小：均值处理，领域图像的高度和宽度，就是我们要选取的m和n</li>
<li>anchor:锚点，默认值（-1,1），表示当前计算均值的点位于核中的中心点位置，一般默认即可</li>
<li>normalize 表示结果是否归一化，如果为真，则求均值，为假，直接使用领域像素和</li>
<li>borderType：边界样式<br>
<strong>实际代码演示</strong></li>
</ul>
<pre><code class="language-python"># 方框滤波
box = cv2.boxFilter(img,-1,(3,3), normalize=True)
img_show(&quot;box&quot;,box)
</code></pre>
<h4 id="高斯滤波">高斯滤波</h4>
<pre><code>将中心点的权重值加大，远离中心点的权重值减小，再基础上计算领域内各个像素值不同权重的和.
dst=cv2.GaussianBlur(src,ksize,sigmaX,sigmaY,borderType)
</code></pre>
<ul>
<li>dst：返回值，高斯滤波后图像</li>
<li>src：准备处理的图像</li>
<li>ksize：滤波核大小：均值处理，领域图像的高度和宽度，就是我们要选取的m和n</li>
<li>sigmaX:卷积核水平上标准差，</li>
<li>sigmaY:卷积核垂直上标准差，如果设为0，则使用sigmaX，两者都为零时，在通过计算卷积核的长度和宽度计算得到</li>
<li>
<ul>
<li>borderType：边界样式<br>
<strong>实际代码演示</strong></li>
</ul>
</li>
</ul>
<pre><code class="language-python"># 高斯滤波
gaussian = cv2.GaussianBlur(img, (5, 5), 1)
img_show(&quot;gaussian&quot;,gaussian)
</code></pre>
<h4 id="中值滤波">中值滤波</h4>
<pre><code>采用领域内所有像素值的中间值来代替当前像素点的值（排序）
</code></pre>
<p>dst=cv2.medianBlur(src,ksize)</p>
<ul>
<li>dst：返回值，中值滤波后图像</li>
<li>src：准备处理的图像</li>
<li>ksize：滤波核大小：均值处理，领域图像的高度和宽度，就是我们要选取的m和n,必须为奇数<br>
<strong>实际代码演示</strong></li>
</ul>
<pre><code class="language-python">#中值滤波
median = cv2.medianBlur(img, 5)  
img_show(&quot;median&quot;,median)
</code></pre>
<h3 id="腐蚀">腐蚀</h3>
<pre><code>将图像边界点消除，使图像沿着边界点向内收缩，腐蚀操作对逐个像素点来决定值，每次判断点都是和结构元中心所对应的点，简单来说，腐蚀操作就是背景色扩大，前景色收缩操作
</code></pre>
<p>dst=cv2.erode(src,kernel[,anchor[,iterations[,borderType[,borderValue]]]])</p>
<ul>
<li>dst：返回值，腐蚀后图像</li>
<li>src：准备处理的图像</li>
<li>kernel:腐蚀操作是采用结构类型，可以自定义或者通过cv2.getStructuringElement()生成</li>
<li>anchor：锚点，默认（-1,1）核中心位置</li>
<li>iteration：腐蚀操作的迭代次数，默认情况下为1</li>
<li>borderType：边界样式<br>
<strong>实际代码演示</strong></li>
</ul>
<pre><code class="language-python">#腐蚀操作
kernel = np.ones((7,7),np.uint8)
erosion = cv2.erode(thresh2,kernel,iterations = 1)

img_show('erosion',erosion)
</code></pre>
<h3 id="膨胀">膨胀</h3>
<pre><code>对图像边界进行扩展，与腐蚀相反，膨胀操作前景色扩大，背景色收缩
</code></pre>
<p>dst=cv2.dilate(src,kernel[,anchor[,iterations[,borderType[,borderValue]]]])</p>
<ul>
<li>dst：返回值，膨胀后图像</li>
<li>src：准备处理的图像</li>
<li>kernel:膨胀操作是采用结构类型，可以自定义或者通过cv2.getStructuringElement()生成</li>
<li>anchor：锚点，默认（-1,1）核中心位置</li>
<li>iteration：膨胀操作的迭代次数，默认情况下为1</li>
<li>borderType：边界样式<br>
<strong>实际代码演示</strong></li>
</ul>
<pre><code class="language-python">#膨胀操作
kernel = np.ones((7,7),np.uint8)
dilate= cv2.dilate(thresh2,kernel,iterations = 1)

img_show('dilate',dilate)
</code></pre>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86">图像处理</a>
<ul>
<li><a href="#%E5%9B%BE%E5%83%8F%E9%98%88%E5%80%BC">图像阈值</a>
<ul>
<li><a href="#threeshold%E5%87%BD%E6%95%B0">threeshold函数</a></li>
</ul>
</li>
<li><a href="#%E5%9B%BE%E5%83%8F%E5%B9%B3%E6%BB%91">图像平滑</a>
<ul>
<li><a href="#%E5%9D%87%E5%80%BC%E6%BB%A4%E6%B3%A2">均值滤波</a></li>
<li><a href="#%E6%96%B9%E6%A1%86%E6%BB%A4%E6%B3%A2">方框滤波</a></li>
<li><a href="#%E9%AB%98%E6%96%AF%E6%BB%A4%E6%B3%A2">高斯滤波</a></li>
<li><a href="#%E4%B8%AD%E5%80%BC%E6%BB%A4%E6%B3%A2">中值滤波</a></li>
</ul>
</li>
<li><a href="#%E8%85%90%E8%9A%80">腐蚀</a></li>
<li><a href="#%E8%86%A8%E8%83%80">膨胀</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://WalkingPineapple.github.io/post/getting-started-with-videos-wen-dang-fan-yi">
              <h3 class="post-title">
                Getting Started with Videos-文档翻译
              </h3>
            </a>
          </div>
        

        

        <div class="site-footer">
  生活|技术|娱乐|抱怨 | 
  <a class="rss" href="https://WalkingPineapple.github.io/atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()

  let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

  // This should probably be throttled.
  // Especially because it triggers during smooth scrolling.
  // https://lodash.com/docs/4.17.10#throttle
  // You could do like...
  // window.addEventListener("scroll", () => {
  //    _.throttle(doThatStuff, 100);
  // });
  // Only not doing it here to keep this Pen dependency-free.

  window.addEventListener("scroll", event => {
    let fromTop = window.scrollY;

    mainNavLinks.forEach((link, index) => {
      let section = document.getElementById(decodeURI(link.hash).substring(1));
      let nextSection = null
      if (mainNavLinks[index + 1]) {
        nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
      }
      if (section.offsetTop <= fromTop) {
        if (nextSection) {
          if (nextSection.offsetTop > fromTop) {
            link.classList.add("current");
          } else {
            link.classList.remove("current");    
          }
        } else {
          link.classList.add("current");
        }
      } else {
        link.classList.remove("current");
      }
    });
  });

</script>

      </div>
    </div>
  </body>
</html>
